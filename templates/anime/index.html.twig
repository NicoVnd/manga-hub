{% extends 'base.html.twig' %}

{% block title %}Anime Collection
{% endblock %}

{% block body %}
	<div class="min-h-screen py-12">
		<div
			class="container mx-auto px-4">
			{# Header #}
			<div class="flex flex-col md:flex-row justify-between items-center mb-12 gap-4">
				<div>
					<h1 class="text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 mb-2 tracking-tight">
						Anime Hub
					</h1>
					<p class="text-slate-400 text-lg font-light">Your personal collection of animated masterpieces</p>
				</div>
				<a href="{{ path('app_anime_new') }}" class="group relative px-8 py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-2xl shadow-xl shadow-blue-500/20 transition-all duration-300 font-bold flex items-center gap-3 overflow-hidden transform hover:-translate-y-1">
					<div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"></div>
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="2.5" stroke="currentColor" class="w-6 h-6">
						<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/>
					</svg>
					<span>Add Anime</span>
				</a>
			</div>

			{# Grid #}
			<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6">
				{% for anime in animes %}
					<a
						href="{{ path('app_anime_show', {'id': anime.id}) }}" class="group flex flex-col gap-3">
						{# Image Container #}
						<div class="aspect-[1/1] w-full relative overflow-hidden rounded-xl shadow-lg bg-slate-800">
							{% if anime.imageFileName %}
								<img src="{{ asset('uploads/images/animes/' ~ anime.imageFileName) }}" alt="{{ anime.name }}" class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
							{% else %}
								<div class="w-full h-full flex flex-col items-center justify-center bg-slate-800 text-slate-600 group-hover:bg-slate-700 transition-colors">
									<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 mb-2 opacity-50">
										<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"/>
									</svg>
									<span class="text-xs font-medium">No Image</span>
								</div>
							{% endif %}

							{# Note Badge (Optional, keeping it subtle) #}
							{% if anime.note %}
								<div class="absolute top-2 right-2">
									<div class="px-2 py-1 bg-black/70 backdrop-blur-sm rounded-md text-yellow-400 text-xs font-bold border border-white/10 shadow-sm">
										{{ anime.note }}
									</div>
								</div>
							{% endif %}
						</div>

						{# Title #}
						<h2 class="text-white font-semibold text-sm leading-tight line-clamp-2 group-hover:text-blue-400 transition-colors">
							{{ anime.name }}
						</h2>
					</a>
				{% else %}
					<div class="col-span-full flex flex-col items-center justify-center py-32 text-slate-500 bg-slate-800/30 rounded-3xl border border-slate-700/50 border-dashed">
						<div class="p-6 bg-slate-800 rounded-full mb-6 shadow-xl">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-16 h-16 text-slate-400">
								<path stroke-linecap="round" stroke-linejoin="round" d="M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
							</svg>
						</div>
						<h3 class="text-2xl font-bold text-slate-300 mb-2">No anime found</h3>
						<p class="text-slate-400 mb-8">Start building your collection by adding your first anime.</p>
						<a href="{{ path('app_anime_new') }}" class="px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-medium transition-colors shadow-lg shadow-blue-500/20">
							Create Anime
						</a>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
{% endblock %}
