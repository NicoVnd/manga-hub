{% extends 'base.html.twig' %}

{% block title %}
	{{ anime.name }}
	- Anime Details
{% endblock %}

{% block body %}
	<div class="min-h-screen py-12 flex items-center justify-center">
		<div class="container mx-auto px-4 max-w-5xl">
			<div class="bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border border-slate-700/50">
				<div
					class="grid md:grid-cols-5 gap-0">
					{# Image Section #}
					<div class="md:col-span-2 relative h-96 md:h-auto bg-slate-900">
						{% if anime.imageFileName %}
							<img src="{{ asset('uploads/images/animes/' ~ anime.imageFileName) }}" alt="{{ anime.name }}" class="w-full h-full object-cover opacity-90">
							<div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-transparent to-transparent md:bg-gradient-to-r md:from-transparent md:to-slate-800"></div>
						{% else %}
							<div class="w-full h-full flex flex-col items-center justify-center text-slate-600">
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-20 h-20 mb-4 opacity-50">
									<path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"/>
								</svg>
								<span class="text-slate-500 font-medium">No Image Available</span>
							</div>
						{% endif %}
					</div>

					{# Details Section #}
					<div class="md:col-span-3 p-8 md:p-12 flex flex-col justify-between">
						<div>
							<div class="flex justify-between items-start mb-6">
								<h1 class="text-4xl font-black text-white leading-tight">{{ anime.name }}</h1>
								{% if anime.note %}
									<div class="flex items-center gap-1 px-3 py-1 bg-yellow-500/10 text-yellow-400 rounded-lg border border-yellow-500/20">
										<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" fill="currentColor" class="w-5 h-5">
											<path fill-rule="evenodd" d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z" clip-rule="evenodd"/>
										</svg>
										<span class="font-bold text-lg">{{ anime.note }}</span>
									</div>
								{% endif %}
							</div>

							<div class="space-y-6">
								<div>
									<h3 class="text-sm uppercase tracking-wider text-slate-500 font-semibold mb-2">Description</h3>
									<p class="text-slate-300 leading-relaxed text-lg">
										{{ anime.description }}
									</p>
								</div>

								<div class="grid grid-cols-2 gap-6">
									<div>
										<h3 class="text-sm uppercase tracking-wider text-slate-500 font-semibold mb-1">Status</h3>
										<div class="inline-flex items-center gap-2">
											<span class="w-2 h-2 rounded-full {{ anime.isPublished ? 'bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]' : 'bg-slate-500' }}"></span>
											<span class="text-slate-300 font-medium">{{ anime.isPublished ? 'Published' : 'Draft' }}</span>
										</div>
									</div>
									<div>
										<h3 class="text-sm uppercase tracking-wider text-slate-500 font-semibold mb-1">Added On</h3>
										<span class="text-slate-300 font-medium">{{ anime.createdAt ? anime.createdAt|date('M d, Y') : 'N/A' }}</span>
									</div>
								</div>
							</div>
						</div>

						<div class="flex items-center gap-4 mt-12 pt-8 border-t border-slate-700/50">
							<a href="{{ path('app_anime_index') }}" class="px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-medium transition-colors flex items-center gap-2">
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5">
									<path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"/>
								</svg>
								Back
							</a>
							{% if is_granted('ROLE_ADMIN') %}
								<a href="{{ path('app_anime_edit', {'id': anime.id}) }}" class="flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-medium transition-all shadow-lg shadow-blue-600/20 text-center">
									Edit Anime
								</a>

								<div class="ml-auto">
									{{ include('anime/_delete_form.html.twig') }}
								</div>
							{% endif %}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
